@startuml Handle

box Talker ðŸ˜ƒ domain #FFFFFA
    participant "Script ðŸ“ƒ" as script
    participant ".ASYNC ðŸ“ƒ" as async
    participant "Holders ðŸª£" as holders
    participant "Inbox ðŸ“¨" as inbox
end box

participant "Hosted ðŸ“¦" as hosted


activate script
    script -> async: ASYNC {function} 
deactivate script

activate async
    async -> async: hook: {.UUID}
    async --> hosted: SEND {Handle ðŸŒ function, hook}
    activate hosted
    async -> async: WAIT ðŸ§˜ {hook}
deactivate async
          
    hosted -> inbox: Placed ðŸš€ {hook, holder}
    activate inbox
        inbox -> holders: GET {hook, holder}
        inbox -> hosted: {value}
    deactivate inbox


    hosted --> inbox: Handled ðŸŒ {hook, return}
deactivate hosted

activate inbox
    inbox -> async: REEL ðŸŽ£ {hook, return}
deactivate inbox

activate async
    async -> script: RETURN {return}
deactivate async

activate script


@enduml