@startuml SHARE
 
box Host ðŸ¤— domain #FFFFFD
    participant "Command âŒ˜" as script
    participant "Talker ðŸ˜ƒ" as talker
    participant "Prompts ðŸª£" as table
end box
participant "Wallet ðŸ‘±" as wallet


activate script
    script -> talker: .PROMPT ðŸ¤” 
deactivate script

activate talker
    talker -> table: SAVE ðŸ’¾ 

    activate table
        table -> talker: {prompt}
        table --> wallet: Prompt @ Broker ðŸŒ {prompt}
    deactivate table
    activate wallet

    
    alt Non-blocking 
        alt With Options
            talker -> talker: HOOK ðŸª {prompt}
        end alt
        talker -> script: RETURN { }
    else Blocking
        talker -> talker: WAIT ðŸ§˜ {prompt}
    end alt

deactivate talker


activate wallet
    
    wallet -> table: Prompted @ Host ðŸš€ {prompt}
    activate table
        table -> wallet: {details}
    deactivate table

    wallet --> table: Reply @ Host ðŸŒ {prompt, reply}

deactivate wallet

activate table
    table -> talker: REEL ðŸŽ£ {prompt, reply}
deactivate table

activate talker
    talker -> script: RETURN {reply}
deactivate talker

activate script
deactivate script

@enduml 
