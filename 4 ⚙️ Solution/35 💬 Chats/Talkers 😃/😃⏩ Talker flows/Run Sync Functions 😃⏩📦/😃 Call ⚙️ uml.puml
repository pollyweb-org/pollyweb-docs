@startuml Handle

participant "User ğŸ§‘" as user
box Talker ğŸ˜ƒ domain #FFFFFA
    participant "Script ğŸ“ƒ" as script
    participant "CALL ğŸ§®" as engine
    'participant "Inbox ğŸ“¨" as inbox
end box
participant "Hosted ğŸ“¦" as hosted


activate script
    script --> user: âª PROMPT ğŸ¤”
    script -> engine: CALL ğŸ§® {function} 
deactivate script


activate engine
    engine --> hosted: Handle ğŸŒ {function, hook}
activate hosted
    engine -> engine: WAIT ğŸ§˜ {hook}
deactivate engine
    
    hosted --> engine: Handled ğŸŒ {hook, result}
deactivate hosted

activate engine
    engine -> script: RACE ğŸ {result}
deactivate engine

activate script
    script --> user: âª PROMPT ğŸ¤”
deactivate script

@enduml