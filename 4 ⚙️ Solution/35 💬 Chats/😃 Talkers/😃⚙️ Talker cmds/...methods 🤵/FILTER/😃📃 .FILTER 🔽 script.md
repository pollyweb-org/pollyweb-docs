# ðŸ˜ƒðŸ“ƒ `.FILTER` ðŸ”½ script

[Script ðŸ“ƒ](<../../...commands âŒ˜/ðŸ“ƒ Script.md>) that implements the [`FILTER` ðŸ”½ command](<FILTER ðŸ”½ msg.md>)

## How to call

```yaml
- RUN|.FILTER:
    Options:
      - A: option-1
        B: Option 1
    ID: A
    Title: B
    Statement: Any statement
```

## Script

```yaml
ðŸ“ƒ .FILTER:

# Assert the inputs
- ASSERT:
    AllOf: $:Options, $:ID, $:Title
    Lists: $:Options
    Texts: $:ID, $:Title, $:Statement

# Format the options into {ID,Title}
- EVAL|!Options >> $options:
    ID: {$:ID}
    Title: {$:Title}

# Ask the user to select
- MANY >> $result:
    Statement: $:Statement
    Options: $options

# Match the selected options.
- MERGE >> $selected:
    Lists:
        ORIGINAL: $:Options
        RESULT: $result
    Match:
        ORIGINAL.{$:ID}: RESULT.ID 
    Output:
        :ORIGINAL:

# Return the list of items selected.
- RETURN|$selected
```

Commands: [`ASSERT`](<../../...placeholders ðŸ§ /ASSERT ðŸš¦/ASSERT ðŸš¦.md>) [`EVAL`](<../../...placeholders ðŸ§ /EVAL â¬‡ï¸ flow.md>) [`MANY`](<../../../../ðŸ¤” Prompts/ðŸ¤”âœï¸ Prompt inputs/MANY ðŸ” /MANY ðŸ”  prompt.md>) [`MERGE`](<../../...placeholders ðŸ§ /MERGE ðŸ§¬/MERGE ðŸ§¬ lists.md>) [`RETURN`](<../../...control â–¶ï¸/RETURN â¤´ï¸.md>) [`RUN`](<../../...control â–¶ï¸/RUN â–¶ï¸.md>)

---
<br/>