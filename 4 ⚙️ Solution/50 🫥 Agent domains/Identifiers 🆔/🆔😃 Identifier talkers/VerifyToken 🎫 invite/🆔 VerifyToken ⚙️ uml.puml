@startuml VerifyToken

participant "Consumer ğŸ’¼" as consumer
participant "Broker ğŸ¤µ" as broker
box Identifier ğŸ†” domain #FFFFFA
    participant "VerifyToken ğŸ˜ƒ" as script
    participant "Stamps ğŸª£" as tokens
    participant "Selfie ğŸ“¸" as identify
end box
participant "Wallet ğŸ‘±" as wallet


activate consumer
consumer -> broker: Identify@Broker ğŸŒ \n  {identity, biostamp} 


activate broker
    broker -> script: INVITE ğŸ¤² {biostamp} \n .ID/VERIFY ğŸ§© 
deactivate broker

activate script
    script -> tokens: READ ğŸ§² {biostamp}
    script --> identify: RUN {user}
deactivate script

activate identify
    identify -> wallet: selfie ğŸ“¸
    identify -> script: 
deactivate identify


activate script
    script -> broker: 
deactivate script

activate broker
    broker -> consumer: Identified@Consumer ğŸŒ
deactivate broker


    
@enduml