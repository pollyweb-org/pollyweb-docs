@startuml SignFile

participant "Consumer ğŸ’¼" as consumer
box Identifier ğŸ†” domain #FFFFFA
    participant "SignFile  ğŸ˜ƒ" as script
    participant "Selfie ğŸ“¸" as identify
    participant "Hosted ğŸ“¦" as hosted
end box
participant "Wallet ğŸ‘±" as wallet


consumer --> script: Query@Broker ğŸŒ {SIGN-FILE, raw-file}

activate script
    script -> wallet: CONFIRM ğŸ‘ "sign?" {raw-file}
    script --> identify: RUN {user}
deactivate script

activate identify
    identify -> wallet: selfie ğŸ“¸
    identify -> script: 
deactivate identify

activate script
    script -> hosted: CALL ğŸ§® {Sign, raw-file}
deactivate script

activate hosted
    hosted -> script: {signed-file}
deactivate hosted

activate script
    script --> consumer: Consume@Consumer ğŸŒ {signed}
deactivate script

    
@enduml