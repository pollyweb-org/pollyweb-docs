@startuml Identify

box Identity ðŸ†” domain #FFFFFA
    participant "Caller ðŸ“ƒ" as caller
    participant "Selfie ðŸ“¸" as script
    participant "Handled ðŸŒ" as handled
    participant "Hosted ðŸ“¦" as hosted
end box
participant "Wallet ðŸ‘±" as wallet


caller -> script: RUN {user}

activate script
    script -> hosted: CALL ðŸ§® {Identify, user}
deactivate script

activate hosted
    hosted -> script: {url, hook}
deactivate hosted

activate script
    script --> wallet: WEB {url}
activate wallet
    script -> script: WAIT â³ {hook}
deactivate script

    wallet -> hosted: navigate {url}
deactivate wallet

activate hosted
    hosted --> handled: Handled@ ðŸŒ {hook}
deactivate hosted

activate handled
    handled -> script: RACE ðŸ 
deactivate handled

activate script
    script -> caller: RETURN
deactivate script
    
@enduml