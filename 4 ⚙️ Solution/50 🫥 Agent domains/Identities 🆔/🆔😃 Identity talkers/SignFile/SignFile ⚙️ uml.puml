@startuml SignFile

participant "Consumer ğŸ’¼" as consumer
box Identity ğŸ†” domain #FFFFFA
    participant "SignFile âœï¸" as script
    participant "Identify ğŸ†”" as identify
    participant "Hosted ğŸ“¦" as hosted
end box
participant "Wallet ğŸ‘±" as wallet


consumer --> script: Query@Broker ğŸŒ {SIGN, raw}

activate script
    script -> wallet: CONFIRM ğŸ‘ "sign?" {raw}
    script -> identify: RUN {user}
deactivate script

activate identify
    identify -> wallet: selfie ğŸ“¸
    identify -> script: 
deactivate identify

activate script
    script -> hosted: CALL ğŸ§® {Sign, file}
deactivate script

activate hosted
    hosted -> script: {signed}
deactivate hosted

activate script
    script --> consumer: Consume@Consumer ğŸŒ {signed}
deactivate script

    
@enduml