@startuml VerifyToken

participant "Consumer ğŸ’¼" as consumer
box Identity ğŸ†” domain #FFFFFA
    participant "VerifyToken  ğŸ˜ƒ" as script
    participant "Tokens ğŸª£" as tokens
    participant "Selfie ğŸ“¸" as identify
end box
participant "Wallet ğŸ‘±" as wallet


consumer --> script: ğŸŒ Query@Broker ğŸ§© TOKEN/VERIFY \n{issuer, token, signature}

activate script
    script -> tokens: READ ğŸ§²
    script -> identify: RUN {user}
deactivate script

activate identify
    identify -> wallet: selfie ğŸ“¸
    identify -> script: 
deactivate identify


activate script
    script --> consumer: Consume@Consumer ğŸŒ {result}
deactivate script

    
@enduml