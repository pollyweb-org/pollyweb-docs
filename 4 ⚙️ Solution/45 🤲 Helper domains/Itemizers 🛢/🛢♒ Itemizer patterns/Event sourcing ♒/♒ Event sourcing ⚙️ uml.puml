@startuml Event sourcing

participant "Script ğŸ“ƒ" as script
participant "Dataset ğŸª£" as table
participant "Log ğŸª£" as log
participant "OnEvent-A ğŸ””" as eventA
participant "OnEvent-B ğŸ””" as eventB

activate script
    script -> table: SAVE ğŸ’¾ {fields...}
deactivate script

activate table
    table --> log: SAVE ğŸ’¾ {fields...}
    table --> eventA: Event ğŸ”” {fields...}
    table --> eventB: Event ğŸ”” {fields...}
deactivate table


    script -> table: READ ğŸ§² {fields...}
activate script 
    script -> table: SAVE ğŸ’¾ {changes}
deactivate script

activate table
    table --> log: SAVE ğŸ’¾ {changes}
    table --> eventA: Event ğŸ”” {changes}
    table --> eventB: Event ğŸ”” {changes}
deactivate table



@enduml