@startuml Temporal persistence

participant "Script ğŸ“ƒ" as script
participant "Dataset ğŸª£ A:1hour, B:2days" as table
participant "Alarm â°" as alarm


activate script
    script -> table: SAVE ğŸ’¾ {id:1, state:B}
deactivate script

activate table
    table --> alarm: trigger â° {id:1, now+2days}
deactivate table

activate alarm

activate script
    script -> table: READ ğŸ§² {id:1} âœ… success
deactivate script

    alarm --> table: timeout â° {id:1}
deactivate alarm

activate table
    table -> table: DELETE ğŸ—‘ 
deactivate table

activate script
    script -x table: READ ğŸ§² {id:1} ğŸ’¥ error
deactivate script


@enduml