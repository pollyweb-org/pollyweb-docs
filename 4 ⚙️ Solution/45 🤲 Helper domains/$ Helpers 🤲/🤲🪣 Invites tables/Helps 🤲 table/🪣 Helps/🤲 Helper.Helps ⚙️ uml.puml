@startuml ğŸ¤² Helper.Helps

box "Helper ğŸ¤²" #FFFFFA
    participant "Help ğŸŒ" as handler
    participant "Helps ğŸª£" as table
    participant "Schemas ğŸª£" as schemas
    participant "Script ğŸ“ƒ" as script
end box
participant "Graph ğŸ•¸" as graph
participant "Biller ğŸ¤" as biller
participant "Consumer ğŸ’¼ " as consumer



handler -> table: ğŸ’¾ INVITED

group Validations

activate table
    table -> graph: ğŸ”” INVITED: TRUSTS ğŸ«¡ {consumer, schema} âŒ UNTRUSTED 
    table -> biller: ğŸ”” TRUSTED: ğŸš€ Authorize @ Biller {consumer, schema} âŒ BLOCKED
    table -> consumer: ğŸ”” VALID: ğŸš€ Invited @ Consumer {invite} âŒ BROKEN
    
end group 

    table -> schemas: ğŸ”” DETAILED: READ ğŸ§² 
    activate table
        table -> script: RUN ğŸƒ {schema.script}
    deactivate table
    table -> consumer: ğŸ”” HELPED: ğŸŒ Helped @ Consumer {invite, help}
    table -> biller: ğŸ”” BILLABLE: ğŸŒ Bill @ Biller {authorization} 
    table -> table: ğŸ”” BILLED
deactivate table


@enduml 