@startuml Sync

participant "Wallet ðŸ§‘\napp" as wallet
participant "Syncer ðŸ”ƒ\ntool" as syncer
participant "Filer ðŸŒ²\nvault" as filer

syncer -> filer: 1) Map ðŸš€
activate syncer

    activate filer
        'filer -> filer: stage
        filer -> syncer: {map}
    deactivate filer

    syncer -> filer: 2) Upload ðŸš€ {file}
    
    activate syncer
        syncer -> filer
        activate syncer
            syncer -> filer
            'activate syncer
            '    syncer -> filer
            'deactivate syncer
        deactivate syncer
        'syncer -> filer
    deactivate syncer

    syncer -> filer: 3) Uploaded ðŸš€
deactivate syncer

activate filer
    filer -> syncer: {changes}
deactivate filer

activate syncer
    syncer -> filer: 4) Download ðŸš€ {file}
    activate syncer
        syncer -> filer
        activate syncer
            syncer -> filer
            'activate syncer
                'syncer -> filer
            'deactivate syncer
        deactivate syncer
        'syncer -> filer
    deactivate syncer
deactivate syncer

@enduml