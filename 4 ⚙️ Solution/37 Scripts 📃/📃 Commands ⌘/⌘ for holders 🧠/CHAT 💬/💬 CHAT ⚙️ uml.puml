@startuml CHAT
' TODO

box Host domain #FFFFFA
    participant "Script ðŸ“ƒ" as script
    participant ".CHAT ðŸ“ƒ" as engine
    participant "$.Chat ðŸ§ " as holder
    participant "Chats ðŸª£" as table
end box

participant  "Broker ðŸ¤µ" as broker


activate script
    script -> engine: CHAT ðŸ’¬
deactivate script

activate engine
    engine -> broker: SEND ðŸ¤µ Chat ðŸš€

    activate broker
        broker -> engine: { chat ðŸ’¬ details }
    deactivate broker

    engine -> table: READ ðŸ§²
    engine -> table: SAVE ðŸ’¾
    engine -> holder: SET 
    engine -> script:
deactivate engine

activate script
deactivate script

@enduml 
