@startuml Hook

box Talker ðŸ˜ƒ domain #FFFFFA
    participant "Script ðŸ“ƒ" as script
    participant "HOOK ðŸª" as hook
    'participant "Imprints ðŸª£" as imprints
    participant "Hooks ðŸª£" as hooks
end box



activate script
    script -> hook: HOOK ðŸª {uuid}
deactivate script

activate hook
    'hook -> imprints: IMPRINT ðŸ¦¶ {uuid}
    hook -> hooks: SAVE ðŸ’¾ {uuid, script, line}

    alt in the present
        hook -> script: RETURN {empty}
        activate script

    else anytime later, in the future
        hook <-  : REEL ðŸŽ£ {uuid, output}
        'hook -> imprints: RECALL ðŸª¶ {uuid}
        hook -> script : RETURN {output}
    end alt
    
deactivate hook


@enduml