@startuml Hook

box Talker ðŸ˜ƒ domain #FFFFFA
    participant "Script ðŸ“ƒ" as script
    participant ".HOOK ðŸ“ƒ" as hook
    participant "Holders ðŸª£" as holders
    participant "Hooks ðŸª£" as hooks
    participant "Engine âš™ï¸" as engine
end box



activate script
    script -> hook: HOOK ðŸª {hook}
deactivate script

activate hook
    hook -> hooks: SAVE ðŸ’¾ {hook, $.Script, $.Holders.Holder}

    hook -> hook: PARALLEL {$.Holders}
    activate hook
        hook -> holders: SAVE ðŸ’¾ {hook, holder, value}
    deactivate hook


    engine <--  : REEL ðŸŽ£ {hook, return}
    activate engine


    hook -> script: RETURN { }
deactivate hook

activate script
    script <- engine : RETURN {return}

deactivate engine

@enduml