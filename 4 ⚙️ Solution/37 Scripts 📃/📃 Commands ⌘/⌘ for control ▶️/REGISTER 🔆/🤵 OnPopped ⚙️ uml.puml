@startuml Pop@Broker
 
participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    'participant "Pop ğŸŒ" as pop
    participant "Pops ğŸª£" as pops
    participant "Popped@ ğŸ””" as popped
    participant "Hello ğŸŒ" as introduced
end box

box "Talker ğŸ˜ƒ" #FFFFFA
    participant "Engine âš™ï¸" as engine
    participant "Talkers ğŸª£" as talkers
end box

'participant "Vault ğŸ—„ï¸" as vault

'activate wallet 
    wallet --> pops: Pop ğŸŒ 
'deactivate wallet

'activate pops
'    pops -> pop
'deactivate pops

activate pops
    pops --> popped: INSERTED ğŸ””
deactivate pops

activate popped
    popped -> engine: REGISTER ğŸ”† {script}
deactivate popped

activate engine
    engine -> talkers: SAVE ğŸ’¾
    engine -> popped: {locator}
deactivate engine

activate popped
    popped --> wallet: SEND ğŸ“¬ Assess ğŸŒ
deactivate popped

'activate wallet
'    wallet --> locate: Locate ğŸŒ {locator}
'deactivate wallet

'activate locate
'    locate --> wallet: SEND ğŸ“¬ Open ğŸŒ {locator}
'deactivate locate


activate wallet
    wallet --> introduced:
deactivate wallet

activate introduced
    'introduced -> engine: CHAT ğŸ’¬
    introduced -> engine: TALK ğŸ˜ƒ
deactivate introduced

'activate popX
'deactivate popX

activate engine
    engine -> talkers: READ ğŸ§²
    engine -> : RUN ğŸƒ {script} 
deactivate engine

@enduml 
