@startuml GOODBYE

box Host ğŸ¤— domain #FFFFFA
    participant "Script ğŸ“ƒ" as script
    participant "GOODBYE âŒ˜" as goodbye
    participant "Chats ğŸª£" as chats
end box

participant "Broker ğŸ¤µ" as broker

activate script
    script -> goodbye: GOODBYE ğŸ‘‹ 
deactivate script

activate goodbye
    
    alt if $Message
        goodbye -> broker: DONE âœ… {$.Message}
    end alt

    goodbye -> chats: READ ğŸ§² {$.Chat.Item}
    goodbye -> chats: SAVE ğŸ’¾ {GOODBYE}
deactivate goodbye

activate chats
    chats --> broker: Goodbye ğŸŒ
deactivate chats

@enduml 