@startuml Vault.Shares

participant "Broker ğŸ¤µ" as broker

box Vault ğŸ—„ï¸ domain #FFFFFA
    participant "Shares ğŸª£" as table
end box
participant "Graph ğŸ•¸" as graph
participant "Hosted ğŸ“¦" as hosted
participant "Consumer ğŸ’¼" as consumer


broker -> table: ğŸŒ Disclose @ Vault ğŸ’¾ ASKED

activate table
    table -> graph: ğŸš€ Trusts @ Graph 
deactivate table

activate graph
    graph -> table: ğŸ’¾ TRUSTED, UNTRUSTED
deactivate graph

activate table
    table -> hosted: IF trusted: ğŸŒ Handle @ Hosted  
deactivate table

activate hosted
    hosted -> table: ğŸŒ Handled @ Talker ğŸ’¾ READY
deactivate hosted

activate table
    table -> consumer: ğŸŒ Consume @ Consumer
deactivate table

activate consumer
    consumer -> table: ğŸš€ Collect @ Vault
deactivate consumer


@enduml 