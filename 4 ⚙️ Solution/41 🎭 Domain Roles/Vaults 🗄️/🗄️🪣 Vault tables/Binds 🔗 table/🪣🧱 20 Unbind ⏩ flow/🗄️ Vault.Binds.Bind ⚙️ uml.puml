@startuml Vault.Binds

box Vault ğŸ—„ï¸ domain #FFFFFA
    participant "Script  ğŸ“ƒ" as script
    participant "BIND âŒ˜" as cmd
    participant "Binds ğŸª£" as binds
    participant "Hosted ğŸ“¦" as hosted
end box
participant "Broker ğŸ¤µ" as broker


activate script
    script -> cmd: BIND âŒ˜ {schema}
deactivate script

activate cmd
    cmd -> binds: ğŸ’¾ {OFFERED}
deactivate cmd

activate binds
    binds -> broker: Bind ğŸŒ
deactivate binds

activate broker
    broker -> binds: IF "yes": ğŸŒ Bound ğŸ’¾ {BOUND}
activate binds
    broker -> binds: IF "no": ğŸŒ Bound ğŸ’¾ {DECLINED}
deactivate broker

    binds -> hosted: ASYNC ğŸ‘·ğŸ¼ {Bound}
deactivate binds

@enduml 