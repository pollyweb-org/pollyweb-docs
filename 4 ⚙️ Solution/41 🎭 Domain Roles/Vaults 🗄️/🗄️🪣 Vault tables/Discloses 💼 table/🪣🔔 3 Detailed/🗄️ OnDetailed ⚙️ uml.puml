@startuml OnDiscloseTrusted


box Vault ðŸ—„ï¸ domain #FFFFFA
    participant "Discloses ðŸª£" as discloses
    participant "OnDetailed ðŸ””" as handler
    participant "Schemas ðŸª£" as schemas
    participant "Script ðŸ“ƒ" as script
end box


activate discloses
    discloses --> handler: TRUSTED ðŸ”” 
deactivate discloses

activate handler
    handler -> schemas: READ ðŸ§² {schema}
    handler -> script: RUN ðŸƒ {schema, context}
    handler -> discloses: UPDATE ðŸ’¾ {result}
    handler -> discloses: READY âœ…
deactivate handler

@enduml 