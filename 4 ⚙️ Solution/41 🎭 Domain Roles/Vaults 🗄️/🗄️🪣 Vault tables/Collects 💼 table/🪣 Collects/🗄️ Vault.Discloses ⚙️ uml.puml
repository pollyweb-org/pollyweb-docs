@startuml Vault.Shares

participant "Broker ğŸ¤µ" as broker

box Vault ğŸ—„ï¸ domain #FFFFFA
    participant "Shares ğŸª£" as table
    participant "Graph ğŸ•¸" as graph
    participant "Script ğŸ“ƒ" as handler
    participant "Hosted ğŸ“¦" as hosted
end box
participant "Consumer ğŸ’¼" as consumer


broker -> table: ğŸŒ Disclose @ Vault ğŸ’¾ ASKED

activate table
    table -> graph: ğŸš€ Trusts @ Graph 
deactivate table

activate graph
    graph -> table: ğŸ’¾ TRUSTED âœ… UNTRUSTED âŒ
deactivate graph

activate table
    'table -> hosted: ğŸŒ Handle @ Hosted  
    table -> handler: RUN ğŸ“ƒ 
deactivate table

activate handler
    handler -> hosted: ğŸŒ Handle 
    handler -> table: RETURN
deactivate handler

'activate hosted
'    hosted -> table: ğŸŒ Handled @ Talker ğŸ’¾ READY
'deactivate hosted

activate table
    table -> consumer: ğŸŒ Consume @ Consumer
deactivate table

activate consumer
    consumer -> table: ğŸš€ Collect @ Vault
deactivate consumer


@enduml 