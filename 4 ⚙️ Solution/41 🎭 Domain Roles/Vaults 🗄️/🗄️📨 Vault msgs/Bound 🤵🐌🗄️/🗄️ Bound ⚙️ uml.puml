@startuml Bound@Vault

participant "Broker ğŸ¤µ" as broker
box Vault ğŸ—„ï¸ domain #FFFFFA
    participant "Bound ğŸŒ" as vault
    participant "Binds ğŸª£" as binds
end box
participant "Graph ğŸ•¸" as graph


activate broker
    broker --> vault: Bound ğŸŒ {bind, answer}
deactivate broker

activate vault
    
    vault -> graph: VERIFY ğŸ” {msg}
    vault -> graph: TRUSTS ğŸ«¡ {msg.from, .BROKER ğŸ§©}
    vault -> binds: READ ğŸ§² {bind, broker}

    alt answer is ACCEPTED
        vault -> binds: SAVE ğŸ’¾ {BOUND}
    else answer is DECLINED
        vault -> binds: SAVE ğŸ’¾ {DECLINED}
    end

deactivate vault


@enduml 