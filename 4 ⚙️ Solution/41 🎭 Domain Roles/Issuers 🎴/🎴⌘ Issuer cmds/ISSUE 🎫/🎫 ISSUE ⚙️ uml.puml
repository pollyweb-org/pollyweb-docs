@startuml ISSUE


box Issuer ðŸŽ´ï¸ domain #FFFFFA
    participant "Script ðŸ“ƒ" as script
    participant "ISSUE âŒ˜" as talker
    participant "Tokens ðŸª£" as hooks
end box

participant "Broker ðŸ¤µ" as broker
participant "Wallet ðŸ‘±" as wallet

activate script
    script -> talker: ISSUE ðŸŽ«
deactivate script

activate talker
    talker -> hooks: SAVE ðŸ’¾ 
activate hooks
    hooks --> talker: {token}
    talker -> talker: WAIT ðŸ§˜ {token.ID}
deactivate talker

    hooks --> broker: SEND ðŸ“¬ {Offer@ ðŸŒ}
deactivate hooks

activate broker
    broker --> wallet: Save ðŸŒ
deactivate broker

activate wallet
    wallet -> hooks: Issued ðŸš€ READ ðŸ§² 
    wallet --> broker: Saved ðŸŒ
deactivate wallet

activate broker
    broker --> hooks: ðŸŒ Offered ðŸ’¾ OFFERED
deactivate broker

activate hooks
    hooks -> talker: RACE ðŸ 
deactivate hooks

activate talker
    talker -> script: RETURN 
deactivate talker

activate script
deactivate script

@enduml 
