@startuml OnQueryReceived

box Consumer ðŸ’¼ domain #FFFFFA
    participant "Queries ðŸª£" as table
    participant "OnReceived ðŸ””" as handler
    participant "SHARE âŒ˜" as share
    participant "Script ðŸ“ƒ" as script
end box

table --> handler: OnQueryReceived ðŸ”” 

activate handler
    handler -> share: RACE ðŸ {token}
deactivate handler

activate share
    share -> script: RETURN {token}
deactivate share

@enduml 