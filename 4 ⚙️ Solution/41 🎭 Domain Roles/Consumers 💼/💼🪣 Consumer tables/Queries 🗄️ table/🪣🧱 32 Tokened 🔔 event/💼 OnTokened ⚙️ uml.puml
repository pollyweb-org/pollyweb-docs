@startuml OnQueryTokened

box Consumer ðŸ’¼ domain #FFFFFA
    participant "OnReceived ðŸ””" as received
    participant "Queries ðŸª£" as table
    participant "OnTokened ðŸ””" as handler
    participant "SHARE âŒ˜" as share
    participant "Script ðŸ“ƒ" as script
end box


received -> table: ðŸ’¾ {TOKENED} 

activate table
    table --> handler: TOKENED ðŸ”” 
deactivate table

activate handler
    handler -> share: RACE ðŸ {data}
deactivate handler

activate share
    share -> script: RETURN {token}
deactivate share

@enduml 