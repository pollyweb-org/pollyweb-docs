@startuml OnQueryReceived

box Consumer ğŸ’¼ domain #FFFFFA
    participant "Queries ğŸª£" as table
    participant "OnReceived ğŸ””" as handler
end box
participant "Graph ğŸ•¸" as graph

table --> handler: RECEIVED ğŸ”” 

activate handler
    handler -x table: SAVE ğŸ’¾ INVALID âŒ 
    handler -> graph: VERIFY ğŸ” {signature, schema}
    handler -x table: SAVE ğŸ’¾ CORRUPTED âŒ 
    handler -> graph: TRUSTS ğŸ«¡ {issuer, schema, VAULT}
    handler -x table: SAVE ğŸ’¾ UNTRUSTED âŒ
    handler -> table: SAVE ğŸ’¾ TOKENED âœ…
    
    
deactivate handler


@enduml 