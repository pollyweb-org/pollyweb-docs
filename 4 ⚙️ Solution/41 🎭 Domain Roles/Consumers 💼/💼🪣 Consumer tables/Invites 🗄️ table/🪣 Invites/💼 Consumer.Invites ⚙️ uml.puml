@startuml ðŸ’¼ Consumer.Invites ðŸª£ table
 
box Consumer ðŸ’¼ domain #FFFFFA
    participant "Script ðŸ“ƒ" as script
    participant "INVITE âŒ˜" as talker
    participant "Invites ðŸª£" as table
end box

participant "Broker ðŸ¤µ" as broker
participant "Helper ðŸ¤²" as helper

activate script
    script -> talker: INVITE ðŸ¤² {schema}
deactivate script

activate talker
    talker -> table: ðŸ’¾ {INVITED, invite}
activate table
    talker -> talker: WAIT {invite}
deactivate talker

    table --> broker: Invite ðŸŒ {invite, schema}
deactivate table

activate broker
    broker --> helper: Help ðŸŒ
deactivate broker

activate helper

    helper -> table: Invited ðŸš€ READ ðŸ§² {invite}

    activate table
        table -> helper: {context}
    deactivate table

    helper --> table: Helped ðŸŒ {invite, data}
deactivate helper

activate table

    table -> talker: RACE ðŸ {invite, data}
deactivate table

activate talker
    talker -> script: RETURN {data}
deactivate talker

activate script
deactivate script

@enduml 
