@startuml IDENTIFY
 
box Consumer ðŸ’¼ domain #FFFFFA
    participant "Script ðŸ“ƒ" as script
    participant "IDENTIFY ðŸ†”" as identify
    participant "Identified ðŸŒ" as identified
end box
participant "Broker ðŸ¤µ" as broker
participant "Identity ðŸ†”" as identity
participant "Wallet ðŸ‘±" as wallet

activate script
    script -> identify: IDENTIFY ðŸ†” {identity, biostamp}
deactivate script

activate identify
    identify --> broker: SEND ðŸ“¬ Identify@Broker ðŸŒ 
activate broker
    identify -> identify: WAIT â³ 
deactivate identify

    broker --> identity: INVITE ðŸ¤² 
deactivate broker

activate identity
    identity --> wallet: 
    identity --> broker: 
deactivate identity

activate broker
    broker --> identified: Identified@Consumer ðŸŒ
deactivate broker

activate identified 
    identified --> identify: RACE ðŸ 
deactivate identified

activate identify
    identify -> script
deactivate identify

activate script
deactivate script

@enduml 
