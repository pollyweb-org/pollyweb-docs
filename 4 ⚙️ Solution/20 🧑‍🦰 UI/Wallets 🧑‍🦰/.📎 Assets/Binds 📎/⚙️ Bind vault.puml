@startuml Bind()

 
' ---------------------
actor User as user
participant "Wallet ğŸ‘±\napp" as wallet
participant "Notifier ğŸ“£\nbff" as notifier
participant "Broker ğŸ¤µ\nhost" as broker
participant "Graph ğŸ•¸\ndomain" as graph
participant "Vault ğŸ—„ï¸\nhost" as vault

' ---------------------
' WELCOME!
' ---------------------

activate vault
vault --> wallet: 1) âª Prompt ğŸ¤” {what?}
deactivate vault

activate wallet
user --> wallet: bind
wallet --> vault: {bind}
deactivate wallet

activate vault

group Offer binds

    vault --> broker: 2) Bindable ğŸŒ {codes}
    deactivate vault    

    activate broker
 
        ' Translate.
        broker -> graph: 3) Translate ğŸš€
        activate graph
            graph -> broker: {translations}
        deactivate
        
        ' RAISE BINDABLE!
        broker --> wallet: 4) âª Prompt ğŸ¤” {which?}
    deactivate broker

    activate wallet

end group


' BIND @ USER

user --> wallet: select


group Bind vault

    wallet --> broker: {selected codes}
    deactivate wallet

    activate broker
        broker --> vault: 5) Bound ğŸŒ {codes} 
        broker --> wallet:  6) âª Update Binds ğŸ”—
    deactivate broker

end group




' ---------------------
@enduml 
