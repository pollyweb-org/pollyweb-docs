@startuml PopTokenTag
 
participant "Wallet ğŸ‘±" as wallet
box Broker ğŸ¤µ domain #FFFFFA
    participant "PopToken ğŸ˜ƒ" as token
    participant "...Tag ğŸ˜ƒ" as tag
    participant "Tokens ğŸª£" as tokens
end box


wallet -> token: PopToken ğŸ”† {token, issuer}

activate token    
    wallet -> token: "tag"
    token -> tag: RUN {token.*}
deactivate token

activate tag
    tag -> wallet: TEXT ğŸ”  "tag?"
    tag -> tokens: SAVE ğŸ’¾ {tag}
    tag -> wallet: DONE âœ… "changed"
    tag -> : GOODBYE ğŸ‘‹
deactivate tag
 
@enduml 
