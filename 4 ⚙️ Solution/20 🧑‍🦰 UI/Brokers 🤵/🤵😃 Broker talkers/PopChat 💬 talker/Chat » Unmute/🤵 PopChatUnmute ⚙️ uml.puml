@startuml PopChatMute
 
participant "Wallet ðŸ‘±" as wallet
box Broker ðŸ¤µ domain #FFFFFA
    participant "PopChat ðŸ˜ƒ" as onChat
    participant "...Mute ðŸ˜ƒ" as onMute
    participant "Chats ðŸª£" as chats
end box

    
wallet -> onChat: PopChat ðŸ”† {chat}

activate onChat
    wallet -> onChat: "mute"
    onChat -> onMute: RUN {chat.*}
deactivate onChat

activate onMute
    onMute -> chats: SAVE ðŸ’¾ {muted: True}
    onMute -> wallet: DONE âœ… "muted"
deactivate onMute

wallet -> onMute: "unmute"

activate onMute
    onMute -> chats: SAVE ðŸ’¾ {muted: False}
    onMute -> wallet: DONE âœ… "unmuted"
deactivate onMute


@enduml 
