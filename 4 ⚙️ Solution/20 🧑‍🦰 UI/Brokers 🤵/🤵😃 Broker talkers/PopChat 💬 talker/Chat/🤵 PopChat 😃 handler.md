# ğŸ¤µ OnPopChat ğŸ“ƒ handler

> About
* [Script ğŸ“ƒ](<../../../../../35 ğŸ’¬ Chats/Scripts ğŸ“ƒ/Script ğŸ“ƒ.md>) that reacts to a Pop in a [Chat ğŸ’¬](<../../../../../35 ğŸ’¬ Chats/Chats ğŸ’¬/ğŸ’¬ Chat.md>).

<br/>

## Diagram

![alt text](<ğŸ¤µ PopChat âš™ï¸ uml.png>)

<br/>

## Script

```yaml
ğŸ“ƒ PopChat:

# Assert the inputs
- ASSERT:
    $.Chat.Wallet: 
    $.Chat.Inputs.Chat:

# Get the Chat
- SELECT >> $chat:
    From: Broker.Chats
    Where: 
        ID: $.Chat.Inputs.Chat
        Wallet: $.Chat.Wallet

# Prepare options
- IF|$chat.State.Is(ACTIVE):
    - PUT +> $options: /Abandon Chat
    - IF|$chat.Muted:
        PUT +> $options: /Unmute Chat
    - IFNOT|$chat.Muted:
        PUT +> $options: /Mute Chat

# Exit if there are no options available
- IFNOT|$options:
    - RETURN

# Prompt the user for options
- ONE|What do you need? >> $option:
    Options: $options

# Process the user's option
- CASE|$option >> $handler:
    Mute: PopChatMute
    Unmute: PopChatUnmute
    Abandon: PopChatAbandon

- RUN|$handler: $chat
```

Uses||
|-|-
| [Commands âŒ˜](<../../../../../35 ğŸ’¬ Chats/Scripts ğŸ“ƒ/Command âŒ˜.md>) | [`ASSERT`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Commands âŒ˜/âŒ˜ for holders ğŸ§ /ASSERT ğŸš¦/ğŸš¦ ASSERT âŒ˜ cmd.md>)  [`CASE`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Commands âŒ˜/âŒ˜ for control â–¶ï¸/CASE â¯ï¸/â¯ï¸ CASE âŒ˜ cmd.md>) [`IF`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Commands âŒ˜/âŒ˜ for control â–¶ï¸/IF â¤µï¸/â¤µï¸ IF âŒ˜ cmd.md>) [`IFNOT`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Commands âŒ˜/âŒ˜ for control â–¶ï¸/IFNOT â¤µï¸/â¤µï¸ IFNOT âŒ˜ cmd.md>) [`INFO`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Prompts ğŸ¤”/ğŸ¤” Status âš ï¸ prompts/INFO â„¹ï¸/INFO â„¹ï¸ prompt.md>) [`ONE`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Prompts ğŸ¤”/ğŸ¤” Input âœï¸ prompts/ONE 1ï¸âƒ£/1ï¸âƒ£ ONE âŒ˜ cmd.md>) [`PUT`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Commands âŒ˜/âŒ˜ for holders ğŸ§ /PUT â¬‡ï¸/â¬‡ï¸ PUT âŒ˜ cmd.md>) [`RETURN`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Commands âŒ˜/âŒ˜ for control â–¶ï¸/RETURN â¤´ï¸/â¤´ï¸ RETURN âŒ˜ cmd.md>) [`RUN`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Commands âŒ˜/âŒ˜ for control â–¶ï¸/RUN ğŸƒ/ğŸƒ RUN âŒ˜ cmd.md>) [`SELECT`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Commands âŒ˜/âŒ˜ for holders ğŸ§ /SELECT ğŸ…¾ï¸/ğŸ…¾ï¸ SELECT âŒ˜ cmd.md>) 
| [Datasets ğŸª£](<../../../../../30 ğŸ§© Data/Datasets ğŸª£/ğŸª£ Dataset.md>) | [`Broker.Chats`](<../../../ğŸ¤µğŸª£ Broker tables/Chats ğŸ’¬ table/ğŸª£ Chats/ğŸ¤µ Broker.Chats ğŸª£ table.md>) 
| [{Functions} ğŸ](<../../../../../35 ğŸ’¬ Chats/Scripts ğŸ“ƒ/Function ğŸ.md>) | [`.Is`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Functions ğŸ/ğŸ System ğŸ”© functions/Is â“•.md>)
| [Holders ğŸ§ ](<../../../../../35 ğŸ’¬ Chats/Scripts ğŸ“ƒ/Holder ğŸ§ .md>) | [`$.Chat`](<../../../../../37 Scripts ğŸ“ƒ/ğŸ“ƒ Holders ğŸ§ /System holders ğŸ”©/$.Chat ğŸ’¬/ğŸ’¬ $.Chat ğŸ§  holder.md>) 
|