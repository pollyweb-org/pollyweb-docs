@startuml Pop@Broker
 
participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Pop@ ğŸ“ƒ" as pop
    participant "Pops ğŸª£" as pops
    participant "OnPopped@ ğŸ””" as popped
    participant "Chats ğŸª£" as chats
    'participant "Chatters ğŸª£" as chatters
    'participant "OnBubble@ ğŸ””" as bubble
    participant "OnOpened@ ğŸ””" as opened
end box


wallet --> pop: Pop ğŸŒ {hook}

activate pop
    pop -> pops: SAVE ğŸ’¾
deactivate pop

activate pops
    pops --> popped: INSERTED ğŸ””
deactivate pops

activate popped
    popped -> chats: SAVE ğŸ’¾ {hook}
deactivate popped

activate chats
    chats --> wallet: Open ğŸŒ {hook, chat}
deactivate chats

activate wallet
    wallet --> chats: Opened ğŸŒ {chat}
deactivate wallet

activate chats
    chats -> opened: OPENED ğŸ””
deactivate chats

activate opened
    opened -> pops: SAVE ğŸ’¾ {OPENED}
deactivate opened

@enduml 
