@startuml OnPopAbandon
 
participant "Wallet ðŸ‘±" as wallet
box Broker ðŸ¤µ domain #FFFFFA
    participant "OnChat ðŸ””" as onChat
    participant "Pops ðŸª£" as pops
    participant "OnAbandon ðŸ””" as abandoned
    participant "Chats ðŸª£" as chats
end box


wallet --> onChat: Pop ðŸŒ {CHAT}

activate onChat
    wallet --> onChat: {abandon}
    onChat -> pops: SAVE ðŸ’¾ {ABANDON}
deactivate onChat

activate pops
    pops --> abandoned: ABANDON ðŸ””
deactivate pops

activate abandoned
    abandoned -> abandoned: CHAT ðŸ’¬ 
    abandoned -> wallet: CONFIRM ðŸ¤” "abandon?"
    abandoned -> chats: SAVE ðŸ’¾ {ABANDONED}
    abandoned --> wallet: DONE âœ… {abandoned}
deactivate abandoned

@enduml 
