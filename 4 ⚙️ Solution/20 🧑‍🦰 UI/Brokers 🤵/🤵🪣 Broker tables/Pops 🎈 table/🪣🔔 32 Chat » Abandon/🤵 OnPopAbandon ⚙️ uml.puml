@startuml OnPopAbandon
 
participant "Wallet ğŸ‘±" as wallet
box Broker ğŸ¤µ domain #FFFFFA
    participant "OnChat ğŸ””" as onChat
    participant "Pops ğŸª£" as pops
    participant "OnAbandon ğŸ””" as abandoned
    participant "Chats ğŸª£" as chats
end box


wallet --> onChat: Pop ğŸŒ {CHAT}

activate onChat
    wallet --> onChat: {abandon}
    onChat -> pops: SAVE ğŸ’¾ {ABANDON}
deactivate onChat

activate pops
    pops --> abandoned: ABANDON ğŸ””
deactivate pops

activate abandoned
    abandoned -> abandoned: CHAT ğŸ’¬ 
    abandoned -> wallet: CONFIRM ğŸ¤” {abandon?}
    abandoned -> chats: SAVE ğŸ’¾ {ABANDONED}
deactivate abandoned

@enduml 
