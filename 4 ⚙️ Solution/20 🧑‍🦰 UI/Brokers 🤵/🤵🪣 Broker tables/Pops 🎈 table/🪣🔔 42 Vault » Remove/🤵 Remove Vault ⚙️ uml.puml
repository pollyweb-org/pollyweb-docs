@startuml Pop@Vault
' TODO
 
participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Handler ğŸ“ƒ" as script
    'participant "Wallets ğŸª£" as wallets
    participant "Binds ğŸª£" as binds
end box

'participant "Vault ğŸ—„ï¸" as vault

activate wallet 
    wallet --> script: Unbind Vault
deactivate wallet

activate script
    script -> binds: READ ğŸ§²
    script --> wallet: CONFIRM {remove?}
deactivate script

activate wallet
    wallet --> script: {yes}
deactivate wallet

activate script
    script --> wallet: ASK {which binds}
deactivate script

activate wallet
    wallet --> script: {selected}
deactivate wallet

activate script
    script -> script: PARALLEL 
    activate script
        script -> binds: DELETE ğŸ—‘ï¸ 
        'script --> vault: SEND ğŸ“¬ {Unbound@}
    deactivate script

    'script --> wallet: SEND ğŸ“¬ {Updated@}
deactivate script
 
@enduml 
