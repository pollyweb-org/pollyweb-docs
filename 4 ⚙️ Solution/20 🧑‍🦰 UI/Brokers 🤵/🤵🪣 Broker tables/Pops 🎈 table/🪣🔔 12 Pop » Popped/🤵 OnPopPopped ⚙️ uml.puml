@startuml OnPopPopped
 
participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Popped ğŸŒ" as pop
    participant "Pops ğŸª£" as pops
    participant "OnPopped@ ğŸ””" as popped
    participant "Talker ğŸ˜ƒ" as talker
end box

wallet --> pop: Popped ğŸŒ {chat}

activate pop
    pop -> pops: SAVE ğŸ’¾ {POPPED}
deactivate pop

activate pops
    pops --> popped: POPPED ğŸ””
deactivate pops

activate popped
    popped -> talker: CHAT ğŸ’¬ 
    popped --> wallet: ONE ğŸ¤” {what?}
deactivate popped

activate wallet
    wallet --> popped: 
deactivate wallet

activate popped
    popped -> pops: SAVE ğŸ’¾ {...}
deactivate popped

@enduml 
