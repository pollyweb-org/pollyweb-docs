@startuml OnQueryDetailed

box Broker ğŸ¤µ domain #FFFFFA
    participant "Queries ğŸª£" as table
    participant "OnDetailed ğŸ””" as handler
end box
participant "Wallet ğŸ‘±" as wallet


activate table
    table --> handler: DETAILED ğŸ””
deactivate table

activate handler
    handler --> wallet: CONFIRM ğŸ‘ "share?"
deactivate handler

activate wallet
    wallet --> handler: 
deactivate wallet

activate handler
    alt IF Bind
        handler -> table: ğŸ’¾ DISCLOSED 
    else IF Token
        handler -> table: ğŸ’¾ SHARED
    end
deactivate handler

@enduml