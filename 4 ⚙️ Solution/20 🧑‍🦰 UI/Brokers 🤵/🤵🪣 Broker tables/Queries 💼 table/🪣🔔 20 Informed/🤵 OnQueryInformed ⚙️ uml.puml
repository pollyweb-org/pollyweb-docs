@startuml OnQueryInformed

box Broker ğŸ¤µ domain #FFFFFA
    participant "Queries ğŸª£" as table
    participant "OnInformed ğŸ””" as handler
    participant "Wallets ğŸª£" as wallets
    participant "Binds ğŸª£" as binds
    participant "Token ğŸª£" as tokens
end box


activate table
    table --> handler: INFORMED ğŸ””
deactivate table

activate handler
    handler -> wallets: READ ğŸ§² 
    handler -> binds: 
    handler -> tokens: 
    
    alt has matches
        handler -> table: SAVE ğŸ’¾ {MATCHED}
    else not matched
        handler -> table: SAVE ğŸ’¾ {UNMATCHED}
    end alt 

deactivate handler

@enduml