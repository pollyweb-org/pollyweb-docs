@startuml OnQueryTrusted

box Broker ğŸ¤µ domain #FFFFFA
    participant "Queries ğŸª£" as table
    participant "OnTrusted ğŸ””" as handler
end box
participant "Wallet ğŸ‘±" as wallet


activate table
    table --> handler: TRUSTED ğŸ””
deactivate table

activate handler

    group If are many
        handler -> wallet: ONE ğŸ¤” "Which one?" 
    end group

    alt IF IsEmpty
        handler -> table: SAVE ğŸ’¾ {REJECTED} 
    else 
        handler -> table: SAVE ğŸ’¾ {SELECTED} 
    end

deactivate handler

@enduml