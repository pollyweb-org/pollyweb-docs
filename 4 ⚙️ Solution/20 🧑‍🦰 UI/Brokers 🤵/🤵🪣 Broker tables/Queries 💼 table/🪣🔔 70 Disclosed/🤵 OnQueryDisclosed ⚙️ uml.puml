@startuml OnQueryDisclosed

box Broker ğŸ¤µ domain #FFFFFA
    participant "Queries ğŸª£" as table
    participant "OnDisclosed ğŸ””" as handler
end box
participant "Vault ğŸ—„ï¸" as vault
participant "Consumer ğŸ’¼" as consumer

activate table
    table --> handler: DISCLOSED ğŸ””
deactivate table

activate handler
    handler --> vault: SEND ğŸ“¬ {Disclose@ ğŸŒ}
deactivate handler

activate vault
    vault --> consumer: Consume@ ğŸŒ {data}
deactivate vault
    

@enduml