@startuml Broker.Tokens.Updates
 
participant "Wallet ğŸ‘±" as wallet
box Broker ğŸ¤µ domain #FFFFFA
    participant "Pop ğŸŒ" as pop
    participant "Wallets ğŸª£" as wallets
    participant "Binds, Chats, Domains, \n Schemas, Tokens ğŸª£" as tables
    participant "Frontend ğŸª£" as frontend
end box
participant "Graph ğŸ•¸" as graph
participant "Notifier ğŸ“£" as notifier


wallet -> pop: Pop ğŸŒ {WALLET}
activate pop
    wallet -> pop: {language: X}
    pop -> wallets: ğŸ’¾ {language}
deactivate pop    

activate wallets
    wallets -> tables: ğŸ’¾ {language}
activate tables
    wallets -> tables: 
    wallets -> tables: 
deactivate wallets

    tables -> graph: TRANSLATE ğŸˆ¯ {issuer, schema}
    tables -> frontend: ğŸ’¾ {wallet items}
deactivate tables

activate frontend
    frontend -> notifier: IF changed: ğŸŒ Updated
deactivate frontend

@enduml 
