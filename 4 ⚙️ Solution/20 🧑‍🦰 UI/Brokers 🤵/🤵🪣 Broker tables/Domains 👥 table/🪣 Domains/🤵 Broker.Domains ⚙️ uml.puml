@startuml Broker.Domains

box Broker ğŸ¤µ domain #FFFFFA
    participant "Chats, Binds, Tokens ğŸª£" as propagate
    participant "Wallets ğŸª£" as wallets
    participant "Domains ğŸª£" as domains
    participant "Frontend ğŸª£" as frontend
end box
participant "Graph ğŸ•¸" as graph
participant "Notifier ğŸ“£" as notifier


propagate -> domains: ğŸ’¾ Propagate Parents 
activate domains
    wallets -> domains: ğŸ’¾ {language}
    
    domains -> graph: ğŸ”” OnInsert ğŸš€ Schema @ Graph
    activate graph
        graph -> domains: ğŸ’¾ {details}
    deactivate graph

    domains -> graph: ğŸ”” OnLocalized ğŸš€ Translate @ Graph
    activate graph
        graph -> domains: ğŸ’¾ {translations}
    deactivate graph

    domains -> frontend: ğŸ”” OnAltered ğŸ’¾ SAVE

deactivate domains

activate frontend
    frontend -> notifier: IF changed: ğŸŒ Updated@
deactivate frontend

@enduml 
