@startuml OnChatDetailed


box Broker ğŸ¤µ domain #FFFFFA
    participant "OnInserted ğŸ””" as script
    participant "Chats ğŸª£" as table
    participant "OnDetailed ğŸ””" as handler
end box

participant "Notifier ğŸ“£" as notifier
participant "Wallet ğŸ‘±" as wallet

'wallet --> script: Pop ğŸŒ


activate script
    script -> table: SAVE ğŸ’¾ {DETAILED}
deactivate script

activate table
    table --> handler: DETAILED ğŸ””
deactivate table

activate handler
    handler --> notifier: SEND ğŸ“¬ {Open ğŸŒ}
deactivate handler

activate notifier
    notifier --> wallet: 
deactivate notifier

activate wallet 
    wallet --> table: Opened ğŸŒ {OPENED}
deactivate wallet

@enduml 
