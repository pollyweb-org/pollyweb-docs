@startuml OnBindDetailed
 
'participant "Wallet ğŸ‘±" as wallet
participant "Vault ğŸ—„ï¸" as vault

box Broker ğŸ¤µ domain #FFFFFA
    participant "Bind@ ğŸ“ƒ" as script
    'participant "Wallets ğŸª£" as wallets
    participant "Binds ğŸª£" as binds
    participant "OnCreated ğŸ””" as handler
end box

participant "Wallet ğŸ‘±" as wallet


activate vault
    vault --> script: Bind ğŸŒ
deactivate vault

activate script
    script -> binds: SAVE ğŸ’¾ {CREATED}
deactivate script

activate binds
    binds --> handler: CREATED ğŸ””
deactivate binds

activate handler
    handler -> wallet: CONFIRM ğŸ‘
deactivate handler

activate wallet
    wallet --> handler: 
deactivate wallet

activate handler
    handler ->  binds: ï¸SAVE ğŸ’¾ {KEPT}
deactivate handler


@enduml 
