@startuml OnBindDetailed
 
'participant "Wallet ğŸ‘±" as wallet
'participant "Vault ğŸ—„ï¸" as vault

box Broker ğŸ¤µ domain #FFFFFA
    participant "OnCreated ğŸ””" as created
    'participant "Bind@ ğŸ“ƒ" as script
    'participant "Wallets ğŸª£" as wallets
    participant "Binds ğŸª£" as binds
    participant "OnDetailed ğŸ””" as detailed
end box

participant "Wallet ğŸ‘±" as wallet



created -> binds: SAVE ğŸ’¾ {DETAILED}
activate binds
    binds --> detailed: DETAILED ğŸ””
deactivate binds

activate detailed
    detailed -> detailed: CHAT ğŸ’¬
    detailed -> wallet: CONFIRM ğŸ‘ {accept?} 
deactivate detailed

alt Kept

    activate wallet
        wallet --> detailed: Yes
'    deactivate wallet

    activate detailed
        detailed ->  binds: SAVE ğŸ’¾ {ACCEPTED}
    deactivate detailed


else Rejected

'    activate wallet
        wallet --> detailed: No
    deactivate wallet

    activate detailed
        detailed ->  binds: SAVE ğŸ’¾ {REJECTED}
    deactivate detailed

end alt

@enduml 
