@startuml OnAgentAssigned


box Broker ðŸ¤µ domain #FFFFFA
    participant "Script ðŸ“ƒ" as script
    participant "Agents ðŸª£" as agents
    participant "OnAssigned ðŸ””" as handler
end box

participant "Vault ðŸ—„ï¸" as vault
participant "Wallet ðŸ‘±" as wallet
'participant "Notifier ðŸ“£" as notifier
'wallet --> script: Pop ðŸŒ

activate script
    script -> agents: SAVE ðŸ’¾
deactivate script

activate agents
    agents --> handler: CHANGED ðŸ””
deactivate agents

activate handler
    handler --> vault: SEND ðŸ“¬ {Assigned@}
    handler --> wallet: INFO â“˜ {agent assigned}
deactivate handler



@enduml 
