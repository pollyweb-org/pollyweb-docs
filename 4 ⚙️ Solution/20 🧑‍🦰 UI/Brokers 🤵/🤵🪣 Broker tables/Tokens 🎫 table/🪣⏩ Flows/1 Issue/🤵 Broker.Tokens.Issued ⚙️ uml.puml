@startuml Broker.Tokens.Issued
 
participant "Issuer ğŸ´" as issuer
box Broker ğŸ¤µ domain #FFFFFA
    participant "Issue ğŸŒ" as issue
    participant "Tokens ğŸª£" as tokens
    participant "Frontend ğŸª£" as frontend
end box
participant "Graph ğŸ•¸" as graph
participant "Wallet ğŸ‘±" as wallet

issuer -> issue: Issue ğŸŒ 

activate issue
    issue -> tokens: ğŸ’¾ {ISSUED}
deactivate issue

activate tokens
    tokens -> graph: Translate ğŸš€
    activate graph
        graph -> tokens: ğŸ’¾ {DETAILED}
    deactivate graph
    tokens -> wallet: Prompt ğŸŒ "accept?" 
deactivate tokens

activate wallet
    wallet -> tokens: ğŸŒ Reply ğŸ’¾ {OFFERED}
deactivate wallet

activate tokens
    tokens -> issuer: IF "no": ğŸŒ Offered ğŸ’¾ {DECLINED}
    tokens -> wallet: IF "yes": Save ğŸŒ
deactivate tokens

activate wallet
    wallet -> tokens: ğŸŒ Saved ğŸ’¾ {SAVED}
deactivate wallet

activate tokens
    tokens -> issuer: Offered ğŸŒ {answer:accepted}
    tokens -> frontend: ğŸ’¾ {tokens}
deactivate tokens

activate frontend
    frontend -> wallet: ğŸŒ Updated 
deactivate frontend



@enduml 
