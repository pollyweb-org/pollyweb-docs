@startuml OnTokenPurged

participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Pop@ ğŸ“ƒ" as remove
    participant "Tokens ğŸª£" as tokens
    participant "OnWiped ğŸ””" as purge
end box

participant "Notifier ğŸ“£" as notifier

wallet --> remove: Pop ğŸŒ

activate remove
    remove -> tokens: DELETE ğŸ—‘ï¸ {undo}
deactivate remove


    tokens --> tokens: wait
activate tokens
    tokens --> purge: PURGED ğŸ””
deactivate tokens

activate purge
    purge --> notifier: SEND ğŸ“¬ {Remove ğŸŒ}
deactivate purge

@enduml 
