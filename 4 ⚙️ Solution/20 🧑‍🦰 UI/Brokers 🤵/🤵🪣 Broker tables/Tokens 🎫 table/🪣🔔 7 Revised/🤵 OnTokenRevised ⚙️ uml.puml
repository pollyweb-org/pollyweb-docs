@startuml OnTokenRevised
 

'participant "Vault ðŸ—„ï¸" as vault
'participant "Graph ðŸ•¸" as graph
participant "Issuer ðŸŽ´" as issuer

box Broker ðŸ¤µ domain #FFFAFA
    participant "Revise ðŸŒ" as script
    participant "OnLanguage ðŸ””" as script
    participant "Tokens ðŸª£" as tokens
    participant "OnRevised ðŸ””" as onRevised
    participant "Pops ðŸª£" as pops
    participant "Chats ðŸª£" as chats
end box

participant "Wallet ðŸ‘±" as wallet


activate issuer
    issuer --> script: Revise ðŸŒ {status}
deactivate issuer

activate script
    script -> tokens: SAVE ðŸ’¾ {status}
deactivate script

activate tokens
    tokens --> onRevised: UPDATED ðŸ””
deactivate tokens

activate onRevised
    onRevised -> pops: ðŸ’¾ INSERT
deactivate onRevised

activate pops
    pops -> chats: ðŸ’¾ INSERT
deactivate pops

activate chats
    chats --> wallet: Open ðŸŒ 
deactivate chats

activate wallet
    wallet --> chats: Opened ðŸŒ
deactivate wallet

activate chats
    chats -> pops: ðŸ’¾ POPPED
deactivate chats

activate pops
    pops --> wallet: INFO â“˜ {status}
deactivate pops


@enduml 
