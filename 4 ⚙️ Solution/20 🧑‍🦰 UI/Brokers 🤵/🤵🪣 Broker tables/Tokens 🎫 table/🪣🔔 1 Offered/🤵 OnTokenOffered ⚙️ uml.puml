@startuml OnTokenOffered
 
'participant "Wallet ğŸ‘±" as wallet
participant "Vault ğŸ—„ï¸" as vault

box Broker ğŸ¤µ domain #FFFFFA
    participant "Offer ğŸŒ" as script
    'participant "Wallets ğŸª£" as wallets
    participant "Tokens ğŸª£" as tokens
    participant "OnOffered ğŸ””" as handler
end box

participant "Graph ğŸ•¸" as graph


activate vault
    vault --> script: Offer ğŸŒ
deactivate vault

activate script
    script -> tokens: SAVE ğŸ’¾ {OFFERED}
deactivate script

activate tokens
    tokens --> handler: OFFERED ğŸ””
deactivate tokens

activate handler
    handler -> graph: TRANSLATE ğŸˆ¯ 
    handler ->  tokens: SAVE ğŸ’¾ {DETAILED}
deactivate handler


@enduml 
