@startuml Tokens@Broker

participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Remove ğŸ“ƒ" as remove
    participant "Tokens ğŸª£" as tokens
    participant "OnPurge ğŸ“ƒ" as purge
end box

participant "Notifier ğŸ“£" as notifier

wallet --> remove: Pop ğŸŒ

activate remove
    remove -> tokens: DELETE {undo}
deactivate remove

activate tokens
    tokens --> tokens: wait...
    tokens --> purge: PURGE 
deactivate tokens

activate purge
    purge --> notifier: Remove ğŸŒ {token}
deactivate purge

@enduml 
