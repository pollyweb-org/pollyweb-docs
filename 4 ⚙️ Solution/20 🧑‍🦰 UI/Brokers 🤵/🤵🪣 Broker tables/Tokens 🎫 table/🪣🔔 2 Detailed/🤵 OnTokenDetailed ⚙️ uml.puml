@startuml OnTokenDetailed


box Broker ğŸ¤µ domain #FFFFFA
    participant "OnOffered ğŸ””" as script
    participant "Tokens ğŸª£" as table
    participant "OnDetailed ğŸ””" as handler
end box
participant "Wallet ğŸ‘±" as wallet


activate script
    script -> table: SAVE ğŸ’¾ {DETAILED}
deactivate script

activate table
    table --> handler: DETAILED ğŸ””
deactivate table

activate handler
    handler -> wallet: CONFIRM ğŸ‘ {accept?} 
    alt accepted
        handler -> table: SAVE ğŸ’¾ {ACCEPTED}
    else declined
        handler -> table: SAVE ğŸ’¾ {DECLINED}
    end
deactivate handler

@enduml 
