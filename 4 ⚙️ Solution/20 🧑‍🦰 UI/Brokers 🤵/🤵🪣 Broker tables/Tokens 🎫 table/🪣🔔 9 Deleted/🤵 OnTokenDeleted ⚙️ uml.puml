@startuml OnTokenExpired

participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Pop ğŸŒ" as pop
    participant "Tokens ğŸª£" as tokens
    participant "OnDeleted ğŸ””" as deleted
end box

participant "Notifier ğŸ“£" as notifier

wallet --> pop: Pop ğŸŒ

activate pop
    wallet --> pop: {remove}
    pop -> tokens: SAVE ğŸ’¾ {REMOVED}
deactivate pop


    tokens --> tokens: wait
activate tokens
    tokens --> deleted: DELETED ğŸ””
deactivate tokens

activate deleted
    deleted --> notifier: SEND ğŸ“¬ {Remove ğŸŒ}
deactivate deleted

@enduml 
