@startuml OnTokenSaved

participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Saved@ ğŸ“ƒ" as script
    participant "Tokens ğŸª£" as tokens
    participant "OnSaved ğŸ“ƒ" as change
end box

'participant "Notifier ğŸ“£" as notifier
participant "Issuer ğŸ´" as issuer

wallet --> script: Saved ğŸŒ

activate script
    script -> tokens: SAVE ğŸ’¾ {ACTIVE}
'deactivate script

activate tokens
    tokens --> change: UPDATED ğŸ””
deactivate tokens

activate change
    change --> issuer: SEND ğŸ“¬ {Accepted ğŸŒ}
deactivate change

@enduml 