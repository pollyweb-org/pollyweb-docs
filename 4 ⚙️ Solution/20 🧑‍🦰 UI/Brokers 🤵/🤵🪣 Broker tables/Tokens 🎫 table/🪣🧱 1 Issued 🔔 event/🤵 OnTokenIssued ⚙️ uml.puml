@startuml OnTokenIssued
 
participant "Issuer ğŸ´" as issuer
box Broker ğŸ¤µ domain #FFFFFA
    participant "Issue ğŸŒ" as script
    participant "Tokens ğŸª£" as tokens
    participant "OnIssued ğŸ””" as handler
end box
participant "Graph ğŸ•¸" as graph


issuer --> script: Issue ğŸŒ {token}

activate script
    script -> tokens: SAVE ğŸ’¾ {ISSUED}
deactivate script

activate tokens
    tokens --> handler: ISSUED ğŸ””
deactivate tokens

activate handler
    handler -> graph: TRANSLATE ğŸˆ¯ 
    handler -> tokens: SAVE ğŸ’¾ {DETAILED}
deactivate handler


@enduml 
