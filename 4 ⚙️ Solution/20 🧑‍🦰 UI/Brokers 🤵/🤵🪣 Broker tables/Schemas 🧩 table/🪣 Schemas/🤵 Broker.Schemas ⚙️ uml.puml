@startuml Broker.Schemas

box Broker ğŸ¤µ domain #FFFFFA
    participant "Chats, Binds, Tokens ğŸª£" as propagate
    participant "Wallets ğŸª£" as wallets
    participant "Schemas ğŸª£" as schemas
    participant "Frontend ğŸª£" as frontend
end box
participant "Graph ğŸ•¸" as graph
participant "Notifier ğŸ“£" as notifier


propagate -> schemas: ğŸ’¾ Propagate Parents 
activate schemas
    wallets -> schemas: ğŸ’¾ {language}
    
    schemas -> graph: ğŸ”” OnInsert: ğŸš€ Schema @ Graph
    activate graph
        graph -> schemas: ğŸ’¾ {details}
    deactivate graph

    schemas -> graph: ğŸ”” OnLocalized: ğŸš€ Translate @ Graph
    activate graph
        graph -> schemas: ğŸ’¾ {translations}
    deactivate graph

    schemas -> frontend: ğŸ”” OnAltered: ğŸ’¾ SAVE

deactivate schemas

activate frontend
    frontend -> notifier: IF changed: ğŸŒ Updated@
deactivate frontend

@enduml 
