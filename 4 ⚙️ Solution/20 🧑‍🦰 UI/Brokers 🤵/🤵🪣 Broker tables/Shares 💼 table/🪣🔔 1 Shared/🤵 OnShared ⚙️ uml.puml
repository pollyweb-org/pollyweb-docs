@startuml OnShared

'participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Script ğŸ“ƒ" as script
    participant "Shares ğŸª£" as table
    participant "OnShared ğŸ””" as handler
end box

participant "Consumer ğŸ’¼" as consumer


activate script
    script -> table: SAVE ğŸ’¾ {SHARED}
deactivate script

activate table
    table --> handler: SHARED ğŸ””
deactivate table

activate handler
    handler --> consumer: SEND ğŸ“¬ {Receive ğŸŒ}
deactivate handler

@enduml