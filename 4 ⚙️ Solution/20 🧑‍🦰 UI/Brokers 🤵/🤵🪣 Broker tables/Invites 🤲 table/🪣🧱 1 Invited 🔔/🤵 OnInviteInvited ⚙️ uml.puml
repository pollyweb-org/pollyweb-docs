@startuml OnInviteInvited

box "Broker ðŸ¤µ" #FFFFFA
    participant "Invites ðŸª£" as invites
    participant "OnInvited ðŸ””" as broker
    participant "Chats ðŸª£" as chats
    participant "Chatters ðŸª£" as chatters
end box
participant "Graph ðŸ•¸" as graph


invites --> broker: INVITED ðŸ””

activate broker
    broker -> chats: READ ðŸ§² host? active?
    broker -x invites: SAVE ðŸ’¾ {INVALID} âŒ
    broker -> chatters: READ ðŸ§² already a chatter?
    broker -> invites: SAVE ðŸ’¾ {CONFIRMED} âœ…
    broker -> graph: TRUSTS ðŸ«¡ Trusts @ Graph ðŸš€  
    broker -x invites: SAVE ðŸ’¾ {UNTRUSTED} âŒ
    broker -> invites: SAVE ðŸ’¾ {VERIFIED} âœ…
deactivate broker

@enduml 