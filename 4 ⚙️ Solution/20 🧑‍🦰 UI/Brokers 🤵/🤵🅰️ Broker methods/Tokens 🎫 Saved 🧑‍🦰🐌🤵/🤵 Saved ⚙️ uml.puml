@startuml Tokens@Broker

 
participant "Wallet ğŸ‘±" as wallet

box Broker ğŸ¤µ domain #FFFFFA
    participant "Saved@ ğŸ“ƒ" as broker
    participant "Wallets ğŸª£" as wallets
    'participant "Offers ğŸª£" as offers
    participant "Tokens ğŸª£" as tokens
    participant "Issuer ğŸ´" as issuer
end box

activate wallet
    wallet -> broker: Saved@ ğŸŒ {token}
deactivate wallet

activate broker
    broker -> wallets: READ ğŸ§² {$.Msg.From}
    'broker -> offers: READ {offer}
    'broker -> tokens: READ {token}
    broker -> tokens: READ ğŸ§² {$wallet.Offers: token}
    broker -> tokens: SAVE ğŸ’¾ {$token.Status: ACTIVE}
    broker --> issuer: SEND ğŸ“¬ {Accepted ğŸŒ}
deactivate broker


@enduml 
