@startuml Tokens@Broker

 
participant "Wallet ğŸ‘±" as wallet
box Broker ğŸ¤µ domain #FFFFFA
    participant "Saved@ ğŸ“ƒ" as broker
    participant "Wallets ğŸª£" as wallets
    'participant "Offers ğŸª£" as offers
    participant "Tokens ğŸª£" as tokens
end box
'participant "Issuer ğŸ´" as issuer


activate wallet
    wallet -> broker: Saved@ ğŸŒ {token}
deactivate wallet

activate broker
    broker -> wallets: READ ğŸ§² {$.Msg.From}
    'broker -> offers: READ {offer}
    'broker -> tokens: READ {token}
    broker -> tokens: READ ğŸ§² {$wallet.Offers: token}
    broker -> tokens: SAVE ğŸ’¾ {$token.State: ACTIVE}
deactivate broker

'activate tokens
'    tokens --> issuer: SEND ğŸ“¬ {Accepted ğŸŒ}
'deactivate tokens


@enduml 
