@startuml Tokens@Broker

 
participant "Wallet ðŸ‘±" as wallet

box Broker ðŸ¤µï¸ domain #FFFFFA
    participant "Saved@ ðŸ“ƒ" as broker
    participant "Wallets ðŸª£" as wallets
    'participant "Offers ðŸª£" as offers
    participant "Tokens ðŸª£" as tokens
    participant "Issuer ðŸŽ´" as issuer
end box

activate wallet
    wallet -> broker: Saved@ ðŸŒ
deactivate wallet

activate broker
    broker -> wallets: READ {$.Msg.From}
    'broker -> offers: READ {offer}
    'broker -> tokens: READ {token}
    broker -> tokens: SAVE {token}
    broker --> issuer: SEND {Accepted ðŸŒ}
    broker -> broker: RUN {update-notifier}
deactivate broker


@enduml 
