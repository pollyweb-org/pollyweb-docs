@startuml ğŸ‘‰ Printer NFC-QR check-in
' ------------

participant "Wallet ğŸ‘±" as wallet  
'participant "Notifier ğŸ“£\nbff" as notifier
'participant "Finder ğŸ”\nvault" as finder
'participant "Printer ğŸ–¨ï¸\nsupplier" as printer


box "Broker ğŸ¤µ" #FFFFFA
    participant "Handler ğŸ“ƒ" as broker
    participant "Wallets ğŸª£" as wallets
    participant "Engine âš™ï¸" as engine
end box



activate wallet
  wallet --> broker: Locate ğŸŒ {hook, locator}
deactivate wallet


activate broker

    broker -> wallets: READ ğŸ§² {from}

    broker -> engine: RUN ğŸƒ Resolve-Alias 
    activate engine
        engine -> broker: {$locator}
    deactivate engine
    
    broker -> engine: RUN ğŸƒ Save-Chat
    activate engine
        engine -> broker: {chat}
    deactivate engine

    broker -> engine: RUN ğŸƒ Save-Host

    broker -> engine: RUN ğŸƒ Call-Converse
    broker -> engine: RUN ğŸƒ Call-Introduce


deactivate broker


@enduml