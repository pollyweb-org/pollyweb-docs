@startuml Status@Broker


participant "Consumer ğŸ’¼" as consumer

box Talker ğŸ˜ƒ domain #FFFFFA
    participant "Broker ğŸ¤µ" as broker
    participant "Tokens ğŸª£" as tokens
    participant "Queries ğŸª£" as queries
end box
participant "Graph ğŸ•¸" as graph


consumer -> broker: Status ğŸš€

activate consumer
    
    activate broker
        broker -> tokens: READ ğŸ§² {token}
        broker -> queries: Consumed in the past?
        broker -> graph: TRUSTS ğŸ«¡ Trusts @ Graph ğŸš€    
        broker -> consumer: {status}
    deactivate broker

deactivate consumer

@enduml 