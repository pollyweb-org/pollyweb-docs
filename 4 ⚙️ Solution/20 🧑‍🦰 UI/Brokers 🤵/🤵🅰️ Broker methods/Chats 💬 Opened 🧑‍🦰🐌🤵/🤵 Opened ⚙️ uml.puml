@startuml Opened@Broker

participant "Wallet ğŸ‘±" as wallet

box "Broker ğŸ¤µ domain"  #FFFFFA
    participant "Opened@ ğŸ“ƒ" as broker
    participant "Pops ğŸª£" as pops
    participant "Chats ğŸª£" as chats
end box
    

activate wallet
    wallet --> broker : Opened ğŸŒ
deactivate wallet

activate broker
    alt is pop?
        broker -> pops: READ ğŸ§² 
        broker -> pops: SAVE ğŸ’¾ {OPENED}
    else
        broker -> chats: READ ğŸ§² 
        broker -> chats: SAVE ğŸ’¾ {OPENED}
    end
deactivate broker

@enduml