@startuml ğŸ‘‰ Printer NFC-QR check-in
' ------------

actor User as user  

box "User Interface (UI)"  #FFFFFF
  participant "Wallet ğŸ‘±\napp" as wallet
  participant "Notifier ğŸ“£\nbff" as notifier
  participant "Broker ğŸ¤µ\nhost" as broker
end box 

participant "Host ğŸ¤—\ndomain" as host
participant "Finder ğŸ”\nvault" as finder
participant "Printer ğŸ–¨ï¸\nsupplier" as printer
participant "Locator ğŸ”†\nNFC/QR" as qr


group Print locators

    host --> finder: {manifest}
    host --> printer: 1) Order@

    activate printer
      printer --> qr: print
    deactivate printer

end group 


user -> wallet: scan âœ¨

activate wallet
  wallet -> qr: scan âœ¨
  wallet --> broker: 2) Assess@ {printer locator}
deactivate wallet


activate broker

    group Translate, if not cached

        broker -> printer: 3) Details@

        activate printer
            printer -> broker: {host locator}
        deactivate printer

    end group

    'alt No host session?

        broker --> wallet: 4) âª assessed

        broker --> finder: 5) introduce â©
        deactivate broker
        
        activate finder
          finder --> broker
        deactivate finder
        
        activate broker

    'end alt

    broker --> host: 6) Hello@

deactivate broker


activate host
    host --> wallet: 7) âª prompt
deactivate host


' ------------
@enduml