# ğŸ‘‰ Share vault

> In a [Chat ğŸ’¬](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/23 ğŸ’¬ Chats/01 ğŸ’¬ Chat.md>), a [Consumer ğŸ’¼ domain](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>)  can query user data.

> Implements [Consumer ğŸ’¼ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>)

<br/>

## Flow diagram

![alt text](<.ğŸ“ Assets/âš™ï¸ Query Vault.png>)

|#|Step|Purpose
|-|-|-
|1|[ğŸ’¼ğŸŒğŸ¤µ Query @ Broker](<../../6 ğŸ…°ï¸ APIs/15 ğŸ¤µğŸ…°ï¸ Broker/60 ğŸ¤µğŸ…°ï¸ Share/61 ğŸ’¼ğŸŒğŸ¤µ Query.md>) | [Consumers ğŸ’¼](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) ask for [Schema Codes ğŸ§©](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/02 ğŸ§© Schema Code.md>)
|2|[ğŸ‘¥ğŸš€ğŸ•¸ Queryable @ Graph](<../../6 ğŸ…°ï¸ APIs/45 ğŸ•¸ğŸ…°ï¸ Graph/05 ğŸ‘¥ğŸš€ğŸ•¸ Queryable.md>) | [Brokers ğŸ¤µ](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/03 ğŸ¤µ Brokers/03 ğŸ¤µ Broker domain.md>) match [Trusted ğŸ‘](<../../4 âš™ï¸ Solution/40 ğŸ‘¥ Domains/43 ğŸ‘ Trusts/01 ğŸ‘ Domain Trust.md>) [Vaults ğŸ—„ï¸](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) 
|3|[ğŸ‘¥ğŸš€ğŸ•¸ Translate @ Graph](<../../6 ğŸ…°ï¸ APIs/45 ğŸ•¸ğŸ…°ï¸ Graph/06 ğŸ‘¥ğŸš€ğŸ•¸ Translate.md>) | [Brokers ğŸ¤µ](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/03 ğŸ¤µ Brokers/03 ğŸ¤µ Broker domain.md>) translate [Schema Codes ğŸ§©](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/02 ğŸ§© Schema Code.md>)
|4|[ğŸ¤—â©ğŸ§‘â€ğŸ¦° Prompt @ Host](<../50 ğŸ¤—â© Hosts/01 ğŸ¤—â©ğŸ§‘â€ğŸ¦° Prompt.md>) | [Brokers ğŸ¤µ](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/03 ğŸ¤µ Brokers/03 ğŸ¤µ Broker domain.md>) ask wish [Vault ğŸ—„ï¸](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) if many
|5|[ğŸ¤µğŸŒğŸ—„ï¸ Disclose @ Broker](<../../6 ğŸ…°ï¸ APIs/95 ğŸ—„ï¸ğŸ…°ï¸ Vault/03 ğŸ¤µğŸŒğŸ—„ï¸ Disclose.md>) | [Brokers ğŸ¤µ](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/03 ğŸ¤µ Brokers/03 ğŸ¤µ Broker domain.md>) ask the [Vault ğŸ—„ï¸](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) to disclose
|6|[ğŸ‘¥ğŸš€ğŸ•¸ Trusts @ Graph](<../../6 ğŸ…°ï¸ APIs/45 ğŸ•¸ğŸ…°ï¸ Graph/03 ğŸ‘¥ğŸš€ğŸ•¸ Trusts.md>) | [Vaults ğŸ—„ï¸](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) see if [Consumer ğŸ’¼](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) is [Trusted ğŸ‘](<../../4 âš™ï¸ Solution/40 ğŸ‘¥ Domains/43 ğŸ‘ Trusts/01 ğŸ‘ Domain Trust.md>)
|7|[ğŸ¤—â©ğŸ§‘â€ğŸ¦° Prompt @ Host](<../50 ğŸ¤—â© Hosts/01 ğŸ¤—â©ğŸ§‘â€ğŸ¦° Prompt.md>) | [Vaults ğŸ—„ï¸](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) ask users for additional info
|8|[ğŸ—„ï¸ğŸŒğŸ’¼ Consume @ Consumer](<../../6 ğŸ…°ï¸ APIs/30 ğŸ’¼ğŸ…°ï¸ Consumer/01 ğŸ—„ï¸ğŸŒğŸ’¼ Consume.md>) | [Vaults ğŸ—„ï¸](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) tell [Consumers ğŸ’¼](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) they're ready
|9|[ğŸ‘¥ğŸš€ğŸ•¸ Trusts @ Graph](<../../6 ğŸ…°ï¸ APIs/45 ğŸ•¸ğŸ…°ï¸ Graph/03 ğŸ‘¥ğŸš€ğŸ•¸ Trusts.md>) | [Consumers ğŸ’¼](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) see if [Vault ğŸ—„ï¸](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) is [Trusted ğŸ‘](<../../4 âš™ï¸ Solution/40 ğŸ‘¥ Domains/43 ğŸ‘ Trusts/01 ğŸ‘ Domain Trust.md>)
|10|[ğŸ’¼ğŸš€ğŸ—„ï¸ Collect @ Vault](<../../6 ğŸ…°ï¸ APIs/95 ğŸ—„ï¸ğŸ…°ï¸ Vault/01 ğŸ’¼ğŸš€ğŸ—„ï¸ Collect.md>) | [Consumers ğŸ’¼](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) collect the data shared
|

<br/>

## FAQ

1. **Why do Consumers and Vaults check Trusts again?**

    `Liability` [Brokers ğŸ¤µ](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/03 ğŸ¤µ Brokers/03 ğŸ¤µ Broker domain.md>) do not assume legal responsibility for orchestration faults.
    * [Broker ğŸ¤µ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/03 ğŸ¤µ Brokers/03 ğŸ¤µ Broker domain.md>) can be compromised or make mistakes.
    * [Vault ğŸ—„ï¸ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) are ultimately responsible for data breaches.
    * [Consumer ğŸ’¼ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) are ultimately responsible for interacting with banned entities (e.g., entities listed as terrorist groups).
    * [Consumer ğŸ’¼ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) and [Vault ğŸ—„ï¸ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) should revalidate the [Trust ğŸ‘](<../../4 âš™ï¸ Solution/40 ğŸ‘¥ Domains/43 ğŸ‘ Trusts/01 ğŸ‘ Domain Trust.md>) path for their own protection whenever feasible.

    

    ---
    <br/>

2. **Why Consume+Collect instead of a single call?**

    `Time` [Vault ğŸ—„ï¸ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) may need time to gather the data, from seconds to days.
    * Thus, [Consumer ğŸ’¼ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) need to wait for [Vault ğŸ—„ï¸ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) to notify them when the data is ready.
    * This is the [Consume @ Consumer](<../../6 ğŸ…°ï¸ APIs/30 ğŸ’¼ğŸ…°ï¸ Consumer/01 ğŸ—„ï¸ğŸŒğŸ’¼ Consume.md>) call.

    `Size` Pushing a payload has size limits, while downloading it doesn't.
    * Thus, to allow [Consumer ğŸ’¼ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) to download data sets from [Vault ğŸ—„ï¸ domains](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>) via with no theoretical size limit, the request needs to come from the [Consumer ğŸ’¼ domain](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/27 ğŸ’¼ Consumers/04 ğŸ’¼ğŸ­ Consumer role.md>) (and not from the [Vault ğŸ—„ï¸ domain](<../../4 âš™ï¸ Solution/20 ğŸ§‘â€ğŸ¦° UI/24 ğŸ—„ï¸ Vaults/03 ğŸ—„ï¸ğŸ­ Vault role.md>)).
    * This is the [Collect @ Vault](<../../6 ğŸ…°ï¸ APIs/95 ğŸ—„ï¸ğŸ…°ï¸ Vault/01 ğŸ’¼ğŸš€ğŸ—„ï¸ Collect.md>) call.

    ---