@startuml Wallet: Share Token


actor User as user
participant "Broker ğŸ¤µ\n(domain)" as broker
participant "Consumer ğŸ’¼\n(host)" as consumer
participant "Identity ğŸ†”\n(vault)" as identity
participant "Graph ğŸ•¸\n(domain)" as graph

' --------------------
' QUERY
' --------------------

activate consumer
consumer --> user : 1) âª Share Token ğŸ«



'group Request ID check

    consumer -> graph: 2) Trusts ğŸš€ {identity}
    consumer --> broker: 3) Invite ğŸŒ
    deactivate consumer

    activate broker
        user --> broker: approve 
        broker --> identity: 4) Invited ğŸŒ {ID locator}
    deactivate broker

    activate identity


'end group


identity --> user: 5 âª Take Selfie ğŸ“¸

identity --> consumer:  6 âª Consume ğŸ§©


@enduml 