@startuml Wallet: Share Token


actor User as user
'participant "Wallet ğŸ‘±\napp" as wallet
'participant "Notifier ğŸ“£\nbff" as notifier
participant "Broker ğŸ¤µ\ndomain" as broker
participant "Graph ğŸ•¸\ndomain" as graph
participant "Issuer ğŸ´\ndomain" as issuer
participant "Consumer ğŸ’¼\ndomain" as consumer


' --------------------
' QUERY
' --------------------

issuer --> broker: 1) âª Offer Token
activate broker
    broker --> user
deactivate broker

consumer --> broker: 2) âª Share Token
activate broker
    broker --> user
deactivate broker


'group Update Token
    issuer --> broker: 3) Revise ğŸŒ
    activate broker
        broker --> user
    deactivate broker
'end group

'group Offline verification

    consumer -> broker: 4) Status ğŸš€

    activate broker
    activate consumer
        broker -> graph: 5) Trusts ğŸš€
        broker -> consumer: {status}
    deactivate broker

    deactivate consumer

'end group

@enduml 