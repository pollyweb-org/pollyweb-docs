@startuml Wallet: Share Token


actor User as user
participant "Wallet ğŸ‘±\n(app)" as wallet
participant "Notifier ğŸ“£\n(domain)" as notifier
participant "Broker ğŸ¤µ\n(domain)" as broker
participant "Identity ğŸ†”\n(vault)" as identity


identity --> broker: 1) Prompt ğŸŒ

activate broker
    broker --> notifier: 2) Prompt ğŸŒ
deactivate broker

activate notifier
    notifier --> wallet
deactivate notifier

' Wallet ğŸ‘±
activate wallet
    wallet -> identity: 3) Prompted ğŸš€
    activate identity
        identity -> wallet: {prompt}
    deactivate identity

    user --> wallet: selfie
    wallet -> identity: 4) Liveness ğŸš€

    activate identity
        identity -> wallet: {liveness html page}
    deactivate identity

    wallet --> identity: 5) Reply ğŸŒ
deactivate wallet
activate identity


@enduml 