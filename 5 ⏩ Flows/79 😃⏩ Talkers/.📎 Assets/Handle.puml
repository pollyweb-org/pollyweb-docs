@startuml Handle

participant "User ğŸ§‘\ndomains" as user
box Hoster ğŸ’­ domain #FFFFFA
    participant "Host ğŸ¤—\nrole API" as host
    participant "Talker ğŸ˜ƒ\nrole API" as talker
end box
participant "Hosted ğŸ§‘â€ğŸ’»\non-prem" as hosted

'activate host
    host --> user: 1 âª Prompt ğŸ¤”
'deactivate host

activate user
    user --> host: Reply ğŸ¤”
deactivate user

activate host
    host --> talker: {reply}
deactivate host

activate talker
    talker --> hosted: 2) Handle ğŸŒ {function}
deactivate talker
    
activate hosted
        
    hosted -> talker: 3) Read ğŸš€ {$placeholder}

    activate talker
        talker -> hosted: {$placeholder value}
    deactivate talker

    hosted --> talker: 4) Handled ğŸŒ {result}
deactivate hosted

activate talker
    talker --> host: {prompt}
deactivate talker

activate host
    host --> user: 5 âª Prompt ğŸ¤”
deactivate host

@enduml