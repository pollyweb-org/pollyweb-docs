@startuml üëâ Host NFC-QR check-in

' ------------

actor User as user  
participant "Wallet üë±\napp" as wallet
participant "Notifier üì£\nbff" as notifier
participant "Broker ü§µ\ndomain" as broker
participant "Graph üï∏\nhelper" as graph


activate broker

' Get the host's public name and icon
broker -> graph: 1) Identity@
activate graph
  graph -> broker: {identity}
deactivate graph

' Create a new session ID
broker -> broker: chat+

' Ask for a new chat to be opened
broker --> notifier: 2) Assessed@
activate notifier
  notifier --> wallet
deactivate notifier
activate wallet
  wallet -> wallet: new chat
deactivate wallet


broker --> wallet: 3) update chats ‚è© 
deactivate broker
    
' ------------
@enduml