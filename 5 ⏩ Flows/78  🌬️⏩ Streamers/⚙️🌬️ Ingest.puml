@startuml Subscribe

participant "Streamer ğŸŒ¬ï¸\ndomain" as streamer

box Subscriber #FFFFFF
    participant "Buffer â³\nhelper" as buffer
    participant "Subscriber ğŸ””\ndomain" as domain
end box

'activate domain
    domain -> buffer: 1) Queue ğŸš€
    domain --> streamer: 2) Subscribe ğŸŒ {buffer}
'deactivate domain  

group Stream

    'activate streamer
        streamer --> buffer: 3) Push ğŸŒ
    'deactivate streamer

    activate buffer
        buffer --> domain: 4) Wake-up ğŸŒ
    deactivate buffer

    activate domain

        loop more?
            domain -> buffer: 5) Poll ğŸš€
            domain -> buffer: 6) Confirm ğŸš€
        end loop


end group   

deactivate domain

@enduml