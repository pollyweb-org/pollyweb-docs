@startuml ðŸ‘‰ Host NFC-QR check-in
' ------------

actor User as user  

box "User Interface (UI)"  #FFFFFF
  participant "Wallet ðŸ‘±\napp" as wallet
  participant "Notifier ðŸ“£\nbff" as notifier
  participant "Broker ðŸ¤µ\nhost" as broker
end box

participant "Host ðŸ¤—\ndomain" as host
participant "Finder ðŸ”Ž\nvault" as finder
participant "Locator ðŸ”†\nNFC/QR" as qr


group Print locators
    host --> finder: {manifest}
    host --> qr: print
end group

user -> wallet: scan âœ¨

activate wallet
    wallet -> qr: scan âœ¨
    wallet --> broker: 1) Assess ðŸŒ {locator}
deactivate wallet

activate broker

    'alt No host session?

        broker --> wallet: 2) âª Assessed
        

        broker --> finder: 3) Introduce â©
        deactivate broker
            activate finder
               finder --> broker
            deactivate finder
        activate broker

    'end alt

    broker --> wallet: 4) âª Prompt ðŸ¤” {tokens}
    broker --> host:  5) Hello ðŸŒ
deactivate broker

activate host
    host --> wallet: 6) âª Prompt ðŸ¤” {what do you need?}
deactivate host

activate wallet
    user --> wallet: reply
deactivate wallet


' ------------
@enduml