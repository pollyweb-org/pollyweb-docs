@startuml ðŸ‘‰ Host NFC-QR check-in
' ------------

actor User as user  

'box "User Interface (UI)"  #FFFFFF
  participant "Wallet ðŸ‘±\napp" as wallet
  'participant "Notifier ðŸ“£\nbff" as notifier
  participant "Broker ðŸ¤µ\nhost" as broker
'end box

participant "Host ðŸ¤—\ndomain" as host
participant "Finder ðŸ”Ž\nvault" as finder
participant "Another\nHost ðŸ¤—" as host2


host --> wallet: 1) âª Prompt ðŸ¤” { option with locator }

activate wallet
    wallet -> wallet: reuse if already open
    wallet --> broker: 2) Assess ðŸŒ { locator }
deactivate wallet

activate broker

    'alt No host session?

        broker --> wallet: 3) âª Converse
        

        broker --> finder: 4) Introduce â©
        deactivate broker
            activate finder
               finder --> broker
            deactivate finder
        activate broker

    'end alt

    broker --> wallet: 5) âª Prompt ðŸ¤” {origin}
    broker --> wallet: 6) âª Prompt ðŸ¤” {tokens}
    broker --> host2:  7) Hello ðŸŒ
deactivate broker

activate host2
    host2 --> wallet: 8) âª Prompt ðŸ¤” {what do you need?}
deactivate host2

activate wallet
    user --> wallet: reply
deactivate wallet


' ------------
@enduml