@startuml ğŸ‘‰ Host NFC-QR check-in
' ------------

actor User as user  

box "User Interface (UI)"  #FFFFFF
  participant "Wallet ğŸ‘±\napp" as wallet
  participant "Notifier ğŸ“£\nbff" as notifier
  participant "Broker ğŸ¤µ\nhost" as broker
end box

participant "Host ğŸ¤—\ndomain" as host
participant "Finder ğŸ”\nvault" as finder
participant "Locator ğŸ”†\nNFC/QR" as qr


group Print locators
    host --> finder: {manifest}
    host --> qr: print
end group

user -> wallet: scan âœ¨

activate wallet
    wallet -> qr: scan âœ¨
    wallet --> broker: 1) Assess ğŸŒ {locator}
deactivate wallet

activate broker

    'alt No host session?

        broker --> wallet: 2) âª Assessed

        broker --> finder: 3) Introduce â©
        'deactivate broker
            'activate finder
            '   finder --> broker
            'deactivate finder
        'activate broker

    'end alt

    broker --> wallet: 4) âª Prompt ğŸ¤” {tokens}
    broker --> host:  5) Hello ğŸŒ
deactivate broker

activate host
    host --> wallet: 6) âª Prompt ğŸ¤” {what do you need?}
deactivate host

  

' ------------
@enduml