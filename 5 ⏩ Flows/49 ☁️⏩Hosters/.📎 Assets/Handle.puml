@startuml Handle

participant "User ğŸ§‘\ndomains" as user
box Hoster ğŸ’­ domain #FFFFFA
    participant "Host ğŸ¤—\nrole API" as host
    participant "Talker ğŸ˜ƒ\nrole API" as talker
end box
participant "Hosted ğŸ§‘â€ğŸ’»\non-prem" as hosted

'activate host
    host --> user:  âª Prompt ğŸ¤”
'deactivate host

activate user
    user --> host: Reply ğŸ¤”
deactivate user

activate host
    host --> talker
deactivate host

activate talker
    talker --> hosted: 1) Handle ğŸŒ {function}
deactivate talker
    
activate hosted
        
    hosted -> talker: 2) Read ğŸš€ {$placeholder}

    activate talker
        talker -> hosted: {$placeholder value}
    deactivate talker

    hosted --> talker: 3) Handled ğŸŒ {result}
deactivate hosted

activate talker
    talker --> host: {prompt}
deactivate talker

activate host
    host --> user: 4 âª Prompt ğŸ¤”
deactivate host

@enduml