@startuml Charge
' ------------------


box "Broker" #LightGray
    participant "Broker ðŸ¤µ" as broker
    participant "Biller ðŸ¤" as biller
    participant "Collector ðŸ¦" as collector
end box

box "Participants" #LightSlateGray
    participant "Host ðŸ¤—" as host
    participant "Curator ðŸ§š" as curator
end box

box "Advertiser" #LightGray
    participant "Ads ðŸ‘€" as ads
    participant "Payer ðŸ’³" as payer
end box



group register advertiser

    'activate broker
        broker --> biller: contract@
    'deactivate broker    

    activate biller
        biller --> ads: authorize â©
    
        activate ads
            ads --> payer: 
            ads --> biller: 
        deactivate ads

    deactivate biller    

end group


'activate broker

group show ads

    activate broker
        broker --> ads: 1) advertise@
        broker --> biller: 2) bill@
    deactivate broker

    activate biller
        
        activate host
            host --> biller: 3) add@
        deactivate host

        activate curator
            curator --> biller: 3) add@
        deactivate curator
   
end group


group monthly billing

        biller --> payer: 4) charge@

    activate payer
        payer --> curator: 5) âª pay
        payer --> host: 5) âª pay
        payer --> collector: 5) âª pay
    deactivate payer

    activate collector
        collector --> biller: 6) paid@
    deactivate collector

    deactivate biller

end group



' ------------
@enduml 