@startuml Goodbye
' ------------------

actor "User" as user
participant "Broker ğŸ¤µ\nhost" as broker
participant "Review â­\nagent" as reviewer
participant "Host ğŸ¤—\ndomain" as host
participant "Graph ğŸ•¸\ndomain" as graph
participant "Finder ğŸ”\nsubscribers" as finder


activate broker


    host --> graph: {manifest}

    broker --> reviewer: 1) rate@
    deactivate broker

group Ask user feedback

    activate reviewer
        reviewer -> graph: 2) service@ 
        reviewer --> user: 3) âª prompt
    deactivate reviewer

    ' Answer to reviewer.
    activate user
        user --> reviewer: {rate}
    deactivate user

    ' Confirm reviewed to broker.
    activate reviewer
        
        loop Follow-up questions
            reviewer --> user: âª prompt {why?}
        end loop


end group

group Delayed fan out of anonymous feedback 

        reviewer --> host: 4) rated@

        reviewer --> finder: 5) â© ingest {rated}
        reviewer --> finder: â© ingest {rated}

    deactivate reviewer

end group






' ------------
@enduml 